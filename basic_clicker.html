<!DOCTYPE html>
<!--
	Making of Basic Clicker
	
	beta "Grandmas" - Added grandmas and some more comments
	beta "Ticks" - More FPS, owner name and item selection
	alpha "Cursors" - Comments and cursors
	alpha "FrickinRaw" - It's RAW!
-->
<html>
<head>
    <meta charset="UTF-8">
    <title>Basic clicker</title>
</head>
<body>
	<p>Version: beta "Grandmas"</p>
	<h1 id="header">Basic clicker</h1>
	<button id="getItem" onclick=itemClick();>+1</button>
	<p id="items">Items: 0</p>
	<p id="cursors">Cursors: 0</p><button id="buyCursor" onclick="Buy.cursor()">1 cursor @ 15 items</button>
	<p id="grandmas">Grandmas: 0</p><button id="buyGrandma" onclick="Buy.grandma()">1 grandma @ 100 items</button>
	
	<script>

// Getting names
var ownerName = prompt("Welcome to Basic Clicker!\nThis is, well, just a basic remake of Cookie Clicker by Orteil, and it will stay as WIP for quite a while.\n\nFew notes: it's raw and it doesn't save the game automatically, but it's still playable... hopefully\n\nNow, please select your nickname for the game:","Somebody");
if ((ownerName === null) || (ownerName === "")) { alert("Seriously?\nSetting the name to Nobody.");ownerName = "Nobody" }
var itemName = prompt("Tell what items you are going to make:","cookies");
if ((itemName === null) || (itemName === "")) { alert("Nothings?\nAlright.");itemName = "nothings" }

// Set TPS
const tps = 66;
const commission = 1.15;

// Game database
var Game = {
	owner: ownerName,
	item: itemName,
	//capitalisedItem: (itemName[0].toUpperCase() + itemName.slice(1)), --- Add if optimisation is urgent
	items: 0,
	tick: 0,
	cursors: 0,
	grandmas: 0
};
var tempValues = {};
	tempValues.cursorPrice = 15;
	tempValues.grandmaPrice = 100;
// Getting the elements for ease of text changing
var docElem = function (id) {return document.getElementById(id)};
var DocElems = {};
	DocElems.header = docElem("header");
	DocElems.items = docElem("items");
	// Cursors:
	DocElems.cursors = docElem("cursors");
	DocElems.buyCursor = docElem("buyCursor");
	// Grandmas:
	DocElems.grandmas = docElem("grandmas");
	DocElems.buyGrandma = docElem("buyGrandma");

// Displaying the names
DocElems.header.innerHTML = Game.owner + "'s " + Game.item + " clicker";

// Refresh the displays (function)
var refreshDisplays = function () {
	document.title = Game.items + " " + Game.item;
	DocElems.items.innerHTML = (Game.item[0].toUpperCase() + Game.item.slice(1)) + ": " + Game.items; // Remove if optimisation is urgent
	// Cursors:
	DocElems.cursors.innerHTML = "Cursors: " + Game.cursors;
	DocElems.buyCursor.innerHTML = "1 cursor @ " + tempValues.cursorPrice + " " + Game.item;
	// Grandmas:
	DocElems.grandmas.innerHTML = "Grandmas: " + Game.grandmas;
	DocElems.buyGrandma.innerHTML = "1 grandma @ " + tempValues.grandmaPrice + " " + Game.item;
};

// Button functions
var itemClick = function () {Game.items+=1};
var Buy = {
	cursor: function(){if (Game.items >= tempValues.cursorPrice) {Game.items -= tempValues.cursorPrice; Game.cursors+=1}}, // Cursor
	grandma: function(){if (Game.items >= tempValues.grandmaPrice) {Game.items -= tempValues.grandmaPrice; Game.grandmas+=1}} // Grandma
};

// Production
var produce = function () {
	Game.tick+=1;
	tempValues.cursorPrice = Math.ceil(15*(commission**Game.cursors)); // Remember (not you, the game) the price of cursor
	tempValues.grandmaPrice = Math.ceil(100*(commission**Game.grandmas)); // Remember the price of grandma
	if ((Game.tick % (5*tps)) === 0) {Game.items+=(Game.cursors)} // Cursors
	if ((Game.tick % tps) === 0) {Game.items+=Game.grandmas} // Grandmas
}

// Ticker initiation
var ticker = setInterval(function(){produce();refreshDisplays()},(1000/tps));
	</script>
</body>
</html>
