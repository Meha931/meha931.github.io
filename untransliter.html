<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Untransliter</title>
</head>
<body>
    <p>From: <textarea id="from" type="text" cols="100" rows="5"></textarea></p>
    <button onclick="translate();">Translate</button>
    <p>To: <textarea id="to" type="text" cols="100" rows="5"></textarea></p>
    <script>
let fromE = document.getElementById("from");
let toE = document.getElementById("to");
let pairs = [
    ["q", "й"],
    ["w", "ц"],
    ["e", "у"],
    ["r", "к"],
    ["t", "е"],
    ["y", "н"],
    ["u", "г"],
    ["i", "ш"],
    ["o", "щ"],
    ["p", "з"],
    ["[", "х"],
    ["]", "ъ"],
    ["a", "ф"],
    ["s", "ы"],
    ["d", "в"],
    ["f", "а"],
    ["g", "п"],
    ["h", "р"],
    ["j", "о"],
    ["k", "л"],
    ["l", "д"],
    [";", "ж"],
    ["'", "э"],
    ["z", "я"],
    ["x", "ч"],
    ["c", "с"],
    ["v", "м"],
    ["b", "и"],
    ["n", "т"],
    ["m", "ь"],
    [",", "б"],
    [".", "ю"],
    ["/", "."],
    ["Q", "Й"],
    ["W", "Ц"],
    ["E", "У"],
    ["R", "К"],
    ["T", "Е"],
    ["Y", "Н"],
    ["U", "Г"],
    ["I", "Ш"],
    ["O", "Щ"],
    ["P", "З"],
    ["{", "Х"],
    ["}", "Ъ"],
    ["A", "Ф"],
    ["S", "Ы"],
    ["D", "В"],
    ["F", "А"],
    ["G", "П"],
    ["H", "Р"],
    ["J", "О"],
    ["K", "Л"],
    ["L", "Д"],
    [":", "Ж"],
    ["\"","Э"],
    ["Z", "Я"],
    ["X", "Ч"],
    ["C", "С"],
    ["V", "М"],
    ["B", "И"],
    ["N", "Т"],
    ["M", "Ь"],
    ["<", "Б"],
    [">", "Ю"],
    ["?", ","],
    ["@","\""],
    ["#", "№"],
    ["$", ";"],
    ["^", ":"],
    ["&", "?"],
];
let basicLatin = "qwertyuiopasdfghjklzxcvbnm";
function seekInString(str, char) {
    for (let i=0; i<str.length; i++)
        if (str.charAt(i) === char) return true;
    return false;
}
function getPairedChar(char, isFromLatin) {
    for (let i=0; i<pairs.length; i++) {
        if (char === pairs[i][1-isFromLatin]) return pairs[i][isFromLatin];
    }
    return char;
}
function translate() {
    let a = fromE.value;
    let isLatin = false;
    for (let i=0; i<a.length; i++) {
        if (seekInString(basicLatin, a.charAt(i))) {
            isLatin = true;
            break;
        }
    }
    let out="";
    for (let i=0; i<a.length; i++) {
        out+=getPairedChar(a.charAt(i), +isLatin);
    }
    toE.value=out;
}
    </script>
</body>
</html>