<!DOCTYPE html>
<!--
	progaproga release 1.1:
	translated to English
	k: "k:" is used as an alias for "к:", a commentary
	
	progaproga release 1:
	теперь не зависит от jquery.js (ура!), поэтому может использоваться как отдельный файл
	к: "к:" использую как комментарий разработки
	к: может, эта программа не так правильно написана, но она работает!
	
	progaproga alpha 4:
	показывается весь введённый скрипт
	улучшена проверка jquery.js
	
	progaproga alpha 3:
	добавлена команда НАЗАД
	
	progaproga alpha 2:
	добавлена кнопка
	добавлена проверка jquery.js
	
	progaproga alpha 1:
	первая версия программы
-->
<html>
<head>
    <meta charset="UTF-8">
    <title>progaproga</title>
	<script>
	var greeting="Type a line and click OK to add it.\nType BACK and click OK to remove the last line.\nClick Cancel to run the program.\n\n";
	var answer="";
	var code=[];
	var isFirst = true;
	var addScript=function () {
		answer="";
		code=[];
		while (answer !== null) {
			if ((answer.length > 0) && (answer !== "BACK")) {
				code.push(answer);
			} else if (answer == "BACK") {
				code.pop();
			}
			answer=prompt(greeting + code.join("\n"));
		}
		if (isFirst) {
			isFirst=false;
			document.write('<button onclick=addScript();>Add some code</button>');
		}
		document.write("<scr"+"ipt>\n" + code.join("\n") + "\n</scr"+"ipt><p>" + code.join("<br>") + "</p>");
	};
    </script>
</head>
<body>
    <h1 id="main-heading">progaproga release 1.1</h1>
	<button onclick=addScript();>Add some code</button>
</body>
</html>
